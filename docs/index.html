<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Erica Shin">

<title>PM 566 Final Project Website - Understanding Survival Outcomes in U.S. Pediatric Leukemia Cases: A Demographic Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">PM 566 Final Project Website</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#pm-566-health-data-science-final-project" id="toc-pm-566-health-data-science-final-project" class="nav-link active" data-scroll-target="#pm-566-health-data-science-final-project">PM 566 Health Data Science Final Project</a>
  <ul class="collapse">
  <li><a href="#project-overview" id="toc-project-overview" class="nav-link" data-scroll-target="#project-overview"><strong>Project Overview:</strong></a></li>
  <li><a href="#research-question" id="toc-research-question" class="nav-link" data-scroll-target="#research-question"><strong>Research Question:</strong></a></li>
  <li><a href="#data-and-methods" id="toc-data-and-methods" class="nav-link" data-scroll-target="#data-and-methods"><strong>Data and Methods:</strong></a></li>
  <li><a href="#key-insights-and-visualizations" id="toc-key-insights-and-visualizations" class="nav-link" data-scroll-target="#key-insights-and-visualizations"><strong>Key Insights and Visualizations:</strong></a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><strong>Conclusion:</strong></a></li>
  </ul></li>
  <li><a href="#full-report" id="toc-full-report" class="nav-link" data-scroll-target="#full-report">Full Report</a></li>
  <li><a href="#interactive-visualizations" id="toc-interactive-visualizations" class="nav-link" data-scroll-target="#interactive-visualizations">Interactive Visualizations</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Understanding Survival Outcomes in U.S. Pediatric Leukemia Cases: A Demographic Analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Erica Shin </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="pm-566-health-data-science-final-project" class="level2">
<h2 class="anchored" data-anchor-id="pm-566-health-data-science-final-project">PM 566 Health Data Science Final Project</h2>
<section id="project-overview" class="level3">
<h3 class="anchored" data-anchor-id="project-overview"><strong>Project Overview:</strong></h3>
<p>This project investigates the demographic factors influencing the survival time of pediatric leukemia patients (under age 10) in the U.S. from 2000-2021 using data from the SEER (Surveillance, Epidemiology, and End Results) program, which collects cancer incidence data across a significant portion of the U.S. population. The focus of this analysis is to explore how sex, race, median income, and age at diagnosis are associated with survival outcomes for children diagnosed with leukemia. <br></p>
</section>
<section id="research-question" class="level3">
<h3 class="anchored" data-anchor-id="research-question"><strong>Research Question:</strong></h3>
<p>The primary question addressed in this project is:</p>
<p><em>What demographic factors (e.g., sex, race, median income, age) are associated with the likelihood of longer survival times in pediatric patients under age 10 diagnosed with malignant leukemia in the U.S.?</em></p>
<p>The project seeks to identify if disparities in survival outcomes exist based on demographic factors such as sex, race, socioeconomic status, and age, focusing on key insights that could guide healthcare strategies and interventions aimed at improving survival rates in underserved populations. <br></p>
</section>
<section id="data-and-methods" class="level3">
<h3 class="anchored" data-anchor-id="data-and-methods"><strong>Data and Methods:</strong></h3>
<p>The dataset used in this analysis is derived from the SEER program, specifically the “<em>Incidence - SEER Research Limited-Field Data, 22 Registries, Nov 2023 Sub (2000-2021) - Linked to County Attributes - Time Dependent (1990-2022) Income/Rurality, 1969-2022 Counties</em>” registry. The dataset covers a wide range of variables, including patient demographics, age, year of diagnosis, site of leukemia, year of death, and median household income. After cleaning and wrangling the data (removing missing values and transforming variables), the focus is on deceased patients to analyze survival time.</p>
<p>The following methods were applied:</p>
<ul>
<li><p><strong>Data Cleaning and Transformation</strong>: Renaming variables for simplicity, converting categorical variables to numeric where appropriate, and filtering out “alive” patients to focus on those who have passed away.</p></li>
<li><p><strong>Exploratory Analysis</strong>: Using summary statistics and visualizations to investigate trends in survival time based on demographic factors.</p></li>
<li><p><strong>Survival Time Calculation</strong>: Creating a new variable for survival time by subtracting the year of diagnosis from the year of death. <br></p></li>
</ul>
</section>
<section id="key-insights-and-visualizations" class="level3">
<h3 class="anchored" data-anchor-id="key-insights-and-visualizations"><strong>Key Insights and Visualizations:</strong></h3>
<p>The project includes interactive visualizations to explore the relationship between demographic factors (sex, race, median income, and age) and survival time. Some key insights include:</p>
<ul>
<li><p>Survival trends across different races and sexes.</p></li>
<li><p>The impact of median household income on survival.</p></li>
<li><p>Age-related trends in survival for pediatric leukemia patients. <br></p></li>
</ul>
</section>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion"><strong>Conclusion:</strong></h3>
<p>The preliminary analysis indicates that several demographic factors—such as gender, income level, and age—are associated with longer average survival times in deceased pediatric patients under age 10 diagnosed with malignant leukemia in the US. Specifically, males, older children, and those from higher-income backgrounds generally exhibited longer average survival times. While these findings suggest potential disparities, further analysis is needed to explore the relationships in more depth. <br><br></p>
</section>
</section>
<section id="full-report" class="level2">
<h2 class="anchored" data-anchor-id="full-report">Full Report</h2>
<p>See the full analysis in the wrriten report <a href="./docs/Final-Project-Report.pdf">here</a>. <br><br></p>
</section>
<section id="interactive-visualizations" class="level2">
<h2 class="anchored" data-anchor-id="interactive-visualizations">Interactive Visualizations</h2>
<p><strong>Visualization 1.</strong> Interactive Barchart of Average Survival Time (Years) by Sex</p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-0e76c9081f128fdaefa2" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-0e76c9081f128fdaefa2">{"x":{"data":[{"orientation":"v","width":0.89999999999999991,"base":0,"x":[1],"y":[2.1675191815856798],"text":"Sex:  Female <br>Average Survival:  2.17 years","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(250,185,172,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Female","legendgroup":"Female","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[2.4944532488114106],"text":"Sex:  Male <br>Average Survival:  2.49 years","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(123,188,83,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Male","legendgroup":"Male","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826498,"l":43.105022831050235},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Barchart of Average Survival Time (Years) by Sex","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["Female","Male"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Female","Male"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Sex","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.12472266244057054,2.6191759112519812],"tickmode":"array","ticktext":["0.0","0.5","1.0","1.5","2.0","2.5"],"tickvals":[0,0.5,1,1.4999999999999998,2,2.5],"categoryorder":"array","categoryarray":["0.0","0.5","1.0","1.5","2.0","2.5"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Average Survival Time (Years)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1692d4132a9d5":{"x":{},"y":{},"fill":{},"text":{},"type":"bar"}},"cur_data":"1692d4132a9d5","visdat":{"1692d4132a9d5":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br> Males had a higher average survival time (2.494 years) compared to females (2.168 years).</p>
<hr>
<p><strong>Visualization 2.</strong> Interactive Barchart of Average Survival Time (Years) by Race</p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-2638a453e3226ecc7aec" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2638a453e3226ecc7aec">{"x":{"data":[{"orientation":"v","width":0.89999999999999991,"base":0,"x":[1],"y":[2.0257611241217806],"text":"Race:  Black <br>Average Survival:  2.026  years","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(250,185,172,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Black","legendgroup":"Black","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[2.446254071661238],"text":"Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  2.446  years","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(123,188,83,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Other (American Indian/AK Native, Asian/Pacific Islander)","legendgroup":"Other (American Indian/AK Native, Asian/Pacific Islander)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[3],"y":[2.4500000000000002],"text":"Race:  Unknown <br>Average Survival:  2.45  years","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(222,103,54,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Unknown","legendgroup":"Unknown","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[4],"y":[2.3851276359600493],"text":"Race:  White <br>Average Survival:  2.385  years","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(103,193,236,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"White","legendgroup":"White","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826498,"l":43.105022831050235},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Barchart of Average Survival Time (Years) by Race","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,4.5999999999999996],"tickmode":"array","ticktext":["Black","Other<br />(American<br />Indian/AK<br />Native,<br />Asian/Pacific<br />Islander)","Unknown","White"],"tickvals":[1,2,3,4],"categoryorder":"array","categoryarray":["Black","Other<br />(American<br />Indian/AK<br />Native,<br />Asian/Pacific<br />Islander)","Unknown","White"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Race","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.12250000000000001,2.5725000000000002],"tickmode":"array","ticktext":["0.0","0.5","1.0","1.5","2.0","2.5"],"tickvals":[0,0.5,1,1.5000000000000002,2,2.5],"categoryorder":"array","categoryarray":["0.0","0.5","1.0","1.5","2.0","2.5"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Average Survival Time (Years)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1692d5c605bd":{"x":{},"y":{},"fill":{},"text":{},"type":"bar"}},"cur_data":"1692d5c605bd","visdat":{"1692d5c605bd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Among racial categories, the “Unknown” group had the highest average survival time at 2.450 years, closely followed by “Other (American Indian/AK Native, Asian/Pacific Islander)” at 2.446 years.</p>
<hr>
<p><strong>Visualization 3.</strong> Interactive Barchart of Patient Count/Sample Size by Race</p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-acfba4dc6e7df84cd491" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-acfba4dc6e7df84cd491">{"x":{"visdat":{"1692d6978a35e":["function () ","plotlyVisDat"]},"cur_data":"1692d6978a35e","attrs":{"1692d6978a35e":{"x":{},"y":{},"hoverinfo":{},"marker":{"color":["#FAB9ACFF","#7BBC53FF","#DE6736FF","#67C1ECFF"]},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Barchart of Patient Count/Sample Size by Race","xaxis":{"domain":[0,1],"automargin":true,"title":"Race","tickangle":0,"tickmode":"array","tickvals":["Black","Other (American Indian/AK Native, Asian/Pacific Islander)","Unknown","White"],"ticktext":["Black","Other<br />(American<br />Indian/AK<br />Native,<br />Asian/Pacific<br />Islander)","Unknown","White"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Patient Count"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Black","Other (American Indian/AK Native, Asian/Pacific Islander)","Unknown","White"],"y":[427,307,20,2703],"hoverinfo":["<br>Patient Count:  427","<br>Patient Count:  307","<br>Patient Count:  20","<br>Patient Count:  2703"],"marker":{"color":["#FAB9ACFF","#7BBC53FF","#DE6736FF","#67C1ECFF"],"line":{"color":"rgba(31,119,180,1)"}},"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The majority of patients in the dataset were classified as “White” (2703 out of 3457 patients or 78%) while the “Unknown” category contained only 20 patients (5.8%), compared to 307 for “Other” (8.9%) and 427 for “Black” (12.4%).</p>
<hr>
<p><strong>Visualization 4.</strong> Interactive Line Plot of Average Survival Time by Age of Diagnosis and Race</p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-09d2dc80e24d9610212a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-09d2dc80e24d9610212a">{"x":{"data":[{"x":[0,1,2,3,4,5,6,7,8,9],"y":[1.211111111111111,1.6753246753246751,1.6599999999999999,2.0263157894736841,1.7741935483870968,3.083333333333333,2.8148148148148149,2.9444444444444446,2.7692307692307692,3.0249999999999999],"text":["Race:  Black <br>Average Survival:  1.211 years <br>Age of Diagnosis:  0 years","Race:  Black <br>Average Survival:  1.675 years <br>Age of Diagnosis:  1 years","Race:  Black <br>Average Survival:  1.66 years <br>Age of Diagnosis:  2 years","Race:  Black <br>Average Survival:  2.026 years <br>Age of Diagnosis:  3 years","Race:  Black <br>Average Survival:  1.774 years <br>Age of Diagnosis:  4 years","Race:  Black <br>Average Survival:  3.083 years <br>Age of Diagnosis:  5 years","Race:  Black <br>Average Survival:  2.815 years <br>Age of Diagnosis:  6 years","Race:  Black <br>Average Survival:  2.944 years <br>Age of Diagnosis:  7 years","Race:  Black <br>Average Survival:  2.769 years <br>Age of Diagnosis:  8 years","Race:  Black <br>Average Survival:  3.025 years <br>Age of Diagnosis:  9 years"],"type":"scatter","mode":"lines+markers","line":{"width":3.7795275590551185,"color":"rgba(250,185,172,1)","dash":"solid"},"hoveron":"points","name":"Black","legendgroup":"Black","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(250,185,172,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(250,185,172,1)"}},"frame":null},{"x":[0,1,2,3,4,5,6,7,8,9],"y":[1.4507042253521127,2,3.1052631578947372,2.8048780487804876,4,2.1578947368421053,4.3125,4.2222222222222223,1.4583333333333335,1.2222222222222223],"text":["Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  1.451 years <br>Age of Diagnosis:  0 years","Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  2 years <br>Age of Diagnosis:  1 years","Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  3.105 years <br>Age of Diagnosis:  2 years","Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  2.805 years <br>Age of Diagnosis:  3 years","Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  4 years <br>Age of Diagnosis:  4 years","Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  2.158 years <br>Age of Diagnosis:  5 years","Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  4.312 years <br>Age of Diagnosis:  6 years","Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  4.222 years <br>Age of Diagnosis:  7 years","Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  1.458 years <br>Age of Diagnosis:  8 years","Race:  Other (American Indian/AK Native, Asian/Pacific Islander) <br>Average Survival:  1.222 years <br>Age of Diagnosis:  9 years"],"type":"scatter","mode":"lines+markers","line":{"width":3.7795275590551185,"color":"rgba(123,188,83,1)","dash":"solid"},"hoveron":"points","name":"Other (American Indian/AK Native, Asian/Pacific Islander)","legendgroup":"Other (American Indian/AK Native, Asian/Pacific Islander)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(123,188,83,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(123,188,83,1)"}},"frame":null},{"x":[0,1,2,4,5,6,7,8,9],"y":[1.6666666666666667,3,15,0.5,0,6,2,1,1],"text":["Race:  Unknown <br>Average Survival:  1.667 years <br>Age of Diagnosis:  0 years","Race:  Unknown <br>Average Survival:  3 years <br>Age of Diagnosis:  1 years","Race:  Unknown <br>Average Survival:  15 years <br>Age of Diagnosis:  2 years","Race:  Unknown <br>Average Survival:  0.5 years <br>Age of Diagnosis:  4 years","Race:  Unknown <br>Average Survival:  0 years <br>Age of Diagnosis:  5 years","Race:  Unknown <br>Average Survival:  6 years <br>Age of Diagnosis:  6 years","Race:  Unknown <br>Average Survival:  2 years <br>Age of Diagnosis:  7 years","Race:  Unknown <br>Average Survival:  1 years <br>Age of Diagnosis:  8 years","Race:  Unknown <br>Average Survival:  1 years <br>Age of Diagnosis:  9 years"],"type":"scatter","mode":"lines+markers","line":{"width":3.7795275590551185,"color":"rgba(222,103,54,1)","dash":"solid"},"hoveron":"points","name":"Unknown","legendgroup":"Unknown","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(222,103,54,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(222,103,54,1)"}},"frame":null},{"x":[0,1,2,3,4,5,6,7,8,9],"y":[1.0868794326241136,2.0831024930747932,2.675757575757578,2.8807947019867548,3.549295774647887,2.8106796116504853,2.9464285714285712,3.0053763440860206,2.6089385474860336,2.4381443298969074],"text":["Race:  White <br>Average Survival:  1.087 years <br>Age of Diagnosis:  0 years","Race:  White <br>Average Survival:  2.083 years <br>Age of Diagnosis:  1 years","Race:  White <br>Average Survival:  2.676 years <br>Age of Diagnosis:  2 years","Race:  White <br>Average Survival:  2.881 years <br>Age of Diagnosis:  3 years","Race:  White <br>Average Survival:  3.549 years <br>Age of Diagnosis:  4 years","Race:  White <br>Average Survival:  2.811 years <br>Age of Diagnosis:  5 years","Race:  White <br>Average Survival:  2.946 years <br>Age of Diagnosis:  6 years","Race:  White <br>Average Survival:  3.005 years <br>Age of Diagnosis:  7 years","Race:  White <br>Average Survival:  2.609 years <br>Age of Diagnosis:  8 years","Race:  White <br>Average Survival:  2.438 years <br>Age of Diagnosis:  9 years"],"type":"scatter","mode":"lines+markers","line":{"width":3.7795275590551185,"color":"rgba(103,193,236,1)","dash":"solid"},"hoveron":"points","name":"White","legendgroup":"White","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(103,193,236,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(103,193,236,1)"}},"frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826498,"l":37.260273972602747},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Average Survival Time by Age of Diagnosis and Race","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.45000000000000001,9.4499999999999993],"tickmode":"array","ticktext":["0.0","2.5","5.0","7.5"],"tickvals":[0,2.5000000000000004,5,7.5],"categoryorder":"array","categoryarray":["0.0","2.5","5.0","7.5"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Age of Diagnosis (Years)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.75,15.75],"tickmode":"array","ticktext":["0","5","10","15"],"tickvals":[0,5,10,15],"categoryorder":"array","categoryarray":["0","5","10","15"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Average Survival Time (Years)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Race","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1692d413a35ea":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"},"1692d54a9b71a":{"x":{},"y":{},"colour":{},"text":{}}},"cur_data":"1692d413a35ea","visdat":{"1692d413a35ea":["function (y) ","x"],"1692d54a9b71a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br> The discrepancy in sample sizes among racial groups suggests that average survival times for the smaller race categories may be more susceptible to outliers, especially in the “Unknown” group, which exhibited an unusually high average survival time of around 15 years for patients approximately 2.5 years old.</p>
<hr>
<p><strong>Visualization 5.</strong> Interactive Scatterplot of Average Survival Time (Years) by Median Income</p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a7dee4503ecb35d27e4c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a7dee4503ecb35d27e4c">{"x":{"data":[{"x":[15,14,13,12,11,10,9,8,7,6,5,4,3,2,1],"y":[2.4260869565217389,2.6449275362318843,2.3920704845814984,2.1506849315068499,2.4968553459119498,2.4863013698630132,2.4819277108433742,2.2619926199261995,2.3420289855072456,2.059171597633136,2.2936170212765958,2.0137931034482763,2.234375,1.6923076923076918,1.9199999999999999],"text":["Median Income:  $120,000+ <br>Average Survival:  2.426 years","Median Income:  $110,000 - $119,999 <br>Average Survival:  2.645 years","Median Income:  $100,000 - $109,999 <br>Average Survival:  2.392 years","Median Income:  $95,000 - $99,999 <br>Average Survival:  2.151 years","Median Income:  $90,000 - $94,999 <br>Average Survival:  2.497 years","Median Income:  $85,000 - $89,999 <br>Average Survival:  2.486 years","Median Income:  $80,000 - $84,999 <br>Average Survival:  2.482 years","Median Income:  $75,000 - $79,999 <br>Average Survival:  2.262 years","Median Income:  $65,000 - $69,999 <br>Average Survival:  2.342 years","Median Income:  $60,000 - $64,999 <br>Average Survival:  2.059 years","Median Income:  $55,000 - $59,999 <br>Average Survival:  2.294 years","Median Income:  $50,000 - $54,999 <br>Average Survival:  2.014 years","Median Income:  $45,000 - $49,999 <br>Average Survival:  2.234 years","Median Income:  $40,000 - $44,999 <br>Average Survival:  1.692 years","Median Income:  < $40,000 <br>Average Survival:  1.92 years"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":59.804955726331045,"l":48.949771689497723},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Scatter Plot of Median Income by Average Survival Time (Years)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,15.6],"tickmode":"array","ticktext":["< $40,000","$40,000 -<br />$44,999","$45,000 -<br />$49,999","$50,000 -<br />$54,999","$55,000 -<br />$59,999","$60,000 -<br />$64,999","$65,000 -<br />$69,999","$75,000 -<br />$79,999","$80,000 -<br />$84,999","$85,000 -<br />$89,999","$90,000 -<br />$94,999","$95,000 -<br />$99,999","$100,000 -<br />$109,999","$110,000 -<br />$119,999","$120,000+"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],"categoryorder":"array","categoryarray":["< $40,000","$40,000 -<br />$44,999","$45,000 -<br />$49,999","$50,000 -<br />$54,999","$55,000 -<br />$59,999","$60,000 -<br />$64,999","$65,000 -<br />$69,999","$75,000 -<br />$79,999","$80,000 -<br />$84,999","$85,000 -<br />$89,999","$90,000 -<br />$94,999","$95,000 -<br />$99,999","$100,000 -<br />$109,999","$110,000 -<br />$119,999","$120,000+"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Median Income","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1.6446767001114821,2.6925585284280937],"tickmode":"array","ticktext":["1.75","2.00","2.25","2.50"],"tickvals":[1.75,2,2.25,2.5],"categoryorder":"array","categoryarray":["1.75","2.00","2.25","2.50"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Average Survival Time (Years)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1692d58a3e944":{"x":{},"y":{},"text":{},"type":"scatter"}},"cur_data":"1692d58a3e944","visdat":{"1692d58a3e944":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br> There appears to be a positive association between median income and average survival time, indicating that higher income is correlated with better survival outcomes.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>